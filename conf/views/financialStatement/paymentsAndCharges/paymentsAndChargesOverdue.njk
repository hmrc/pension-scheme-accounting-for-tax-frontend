{% extends "includes/layout.njk" %}

{% from "govuk/components/back-link/macro.njk"     import govukBackLink %}
{% from "macros/title.njk"                         import title %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% block pageTitle %}
  {{ title(heading) }}
{% endblock %}

{% block mainContent %}

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">

        {{ hmrcPageHeading({
          text: heading,
          section: schemeName
        }) }}

        <p class="govuk-body">{{ messages("paymentsAndCharges.reflect.charge.text") }}</p>

        {% for paymentAndChargesTable in overduePaymentsAndCharges %}
            {% if paymentAndChargesTable.table.rows.length > 0 %}
                {% if overduePaymentsAndCharges.length > 1 %}
                    <h2 class="govuk-heading-m">{{ paymentAndChargesTable.caption }}</h2>
                {% endif %}
                <span id="overduePaymentsAndCharges_h2" class="govuk-visually-hidden" aria-hidden="true" >{{ paymentAndChargesTable.caption }}</span>
                <div role="region" aria-labelledby="overduePaymentsAndCharges_h2" class="govuk-!-margin-bottom-7" tabindex="0">
                    {{ govukTable(paymentAndChargesTable.table) }}
                </div>
            {% endif %}
        {% endfor %}

      </div>
    </div>

    <p class="govuk-body"><a id="return" href="{{ returnUrl }}" class="govuk-link">{{ messages("return.to.link", schemeName) }}</a></p>

{% endblock %}
